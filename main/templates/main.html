{% extends "base_main.html" %}
{% load static %}
{% block content %}
<div class="w3-container">
    <form method="post">{% csrf_token %}
        {{search_form.search}}
        <button class="w3-button w3-animate-zoom" next="{{ portfolio_pags.next_page_number }}" type="submit" name="submit" value="search" id="next_page">Search</button>
    </form>
    <!-- <form action="search/">
        {{search_form.search}}
        <button class="w3-button w3-animate-zoom" next="{{ portfolio_pags.next_page_number }}" type="submit" name="submit" value="search" id="next_page">Search</button>
    </form> -->
</div>
<!-- {{post_pages_list}} -->
<!-- <div class="w3-container">
    <div class="w3-content posts">
        <div class="w3-row-padding w3-margin-top">

        {% for post in post_pags %}

            <div class="w3-third">
                <div class="w3-card-2">
                    <div class="w3-content" style="cursor: pointer">
                        <img src="{{post.image.url}}" style="width:100%; height: 50vh;" onclick="goTo('{% url "main:post_page" post.id %}')" >
                    </div>
                    <div class="w3-container">
                        <h5><a href='{% url "main:post_page" post.id %}'>{{post.title}}</a> <span id="like_post_id_{{post.id}}" class="w3-right w3-button w3-padding-small like" post_id="{{post.id}}">{{post.likes.count}} like<i class="fa fa-heart" aria-hidden="true"></i></span></h5>
                    </div>
                    <div class="w3-container">
                        <p>{{post.body}}</p>
                    </div>
                </div>
                <br>
            </div>

        {% endfor %}
        </div>
    </div>
</div> -->

<div class="w3-container">
    <div class="w3-content posts">
        <div class="w3-row-padding w3-margin-top">

        {% for post in posts_page %}

            <div class="w3-third">
                <div class="w3-card-2">
                    <div class="w3-content" style="cursor: pointer">
                        <img src="{{post.image.url}}" style="width:100%; height: 50vh;" onclick="goTo('{% url "main:post_page" post.id %}')" >
                    </div>
                    <div class="w3-container">
                        <h5><a href='{% url "main:post_page" post.id %}'>{{post.title}}</a> <span id="like_post_id_{{post.id}}" class="w3-right w3-button w3-padding-small like" post_id="{{post.id}}">{{post.likes.count}} like<i class="fa fa-heart" aria-hidden="true"></i></span></h5>
                    </div>
                    <div class="w3-container">
                        <p>{{post.body}}</p>
                    </div>
                </div>
                <br>
            </div>

        {% endfor %}
        </div>
    </div>
</div>

<!-- <div class="w3-container" >
    <div class="w3-content w3-center w3-padding-32">
        
        <div class="w3-section">
        
        {% if post_pags.has_previous %}
        <form method="post" >{% csrf_token %}
            
            <input type="hidden" name="page_number" value="{{ portfolio_pags.previous_page_number }}">
            <button class="w3-button w3-animate-zoom" prev="{{ portfolio_pags.previous_page_number }}" type="submit" name="submit" value="pagination_page" id="prev_page">prev<i class="w3-xxxlarge fa fa-chevron-left" aria-hidden="true"></i></button>
        </form>
        {% endif %}
        

        {% for p in post_pages_list %}
        <form method="post" >{% csrf_token %}
            
            <input type="hidden" name="page_number" value="{{ p }}">
            <button class="w3-button w3-green w3-opacity-min w3-round-xlarge" type="submit" name="submit" value="pagination_page">
                {{p}}
            </button>
        </form>
        {% endfor %}
        {% if post_pags.has_next %}
        <form method="post" enctype="multipart/form-data">{% csrf_token %}
            
            <input type="hidden" name="page_number" value="{{ portfolio_pags.next_page_number }}">
            <button class="w3-button w3-animate-zoom" next="{{ portfolio_pags.next_page_number }}" type="submit" name="submit" value="pagination_page" id="next_page">next<i class="w3-xxxlarge fa fa-chevron-right" aria-hidden="true"></i></button>
        </form>
        {% endif %}
        
        </div>
        
    </div>
</div> -->

<div class="w3-container" >
    <div class="w3-content w3-center w3-padding-32">
        
        <div class="w3-section">
        
        {% if posts_page.has_previous %}
        
            <button class="w3-button w3-animate-zoom" onclick="goTo('{% url "main:main" %}?pagination_page={{ posts_page.previous_page_number }}')">prev<i class="w3-xxxlarge fa fa-chevron-left" aria-hidden="true"></i></button>
        
        {% endif %}
        

        {% for page_number in page_range %}
        
            <button class="w3-button w3-green w3-opacity-min w3-round-xlarge" onclick="goTo('{% url "main:main" %}?pagination_page={{page_number}}')">
                {{page_number}}
            </button>
        
        {% endfor %}
        {% if posts_page.has_next %}
        
            <button class="w3-button w3-animate-zoom" onclick="goTo('{% url "main:main" %}?pagination_page={{ posts_page.next_page_number }}')">next<i class="w3-xxxlarge fa fa-chevron-right" aria-hidden="true"></i></button>
        
        {% endif %}
        
        </div>
        
    </div>
</div>
<!-- {{post_pags}} -->

{% endblock %}

